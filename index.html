<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <!-- Previene zoom táctil accidental y asegura escala correcta -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>WOD Vertical 50"</title>
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    
    body, html { 
      height: 100%; 
      background: #000; 
      color: #fff; 
      overflow: hidden; /* Evita scrollbars en el TV */
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
    }

    /* --- ESTILO PARA TV (POR DEFECTO) --- */
    /* El contenedor rota 90 grados y se ajusta a las dimensiones invertidas */
    .rotated-container {
      position: absolute;
      top: 50%; 
      left: 50%;
      /* En un TV 1920x1080, queremos que el alto sea 1920 (100vw) y el ancho 1080 (100vh) */
      width: 100vh; 
      height: 100vw;
      transform: translate(-50%, -50%) rotate(90deg);
      transform-origin: center;
      display: flex;
      align-items: center; /* Centrado vertical del bloque */
      justify-content: center; /* Centrado horizontal del bloque */
    }

    .content {
      width: 90%; /* Margen de seguridad lateral */
      /* El escalado por JS se aplicará aquí */
      transform-origin: center center;
      text-align: center; /* Opcional: Centrar textos */
    }

    h3 {
      font-size: 5vh; /* Usamos vh porque en rotación el ancho del texto es la altura del TV */
      color: #00ff9d; /* Verde neón estilo Crossfit */
      margin: 30px 0 15px 0;
      text-transform: uppercase;
      letter-spacing: 2px;
      border-bottom: 2px solid #333;
      padding-bottom: 5px;
      display: inline-block;
    }

    p {
      font-size: 3.5vh; 
      line-height: 1.4;
      color: #f0f0f0;
      white-space: pre-line; /* Respeta los saltos de línea del código */
      margin-bottom: 20px;
      font-weight: 300;
    }

    /* --- ESTILO PARA MÓVIL/PC (EDICIÓN) --- */
    /* Si la pantalla es más alta que ancha (celular vertical), anulamos la rotación */
    @media (orientation: portrait) {
      body, html { overflow: auto; } /* Permitir scroll en el cel */
      
      .rotated-container {
        position: static;
        width: 100%;
        height: auto;
        transform: none;
        display: block;
        padding: 20px;
      }

      .content {
        width: 100%;
        transform: none !important; /* Anular escalado JS */
      }

      h3 { font-size: 24px; border-color: #444; }
      p { font-size: 16px; color: #ccc; }
    }
  </style>
</head>
<body>

<div class="rotated-container">
  <div class="content" id="wod-display">
    <!-- El WOD se inyecta aquí -->
  </div>
</div>

<script>
// --- DATOS DE LOS WODS ---
const wods = {
  domingo: `<h3>DOMINGO - Rudolph’s Revenge</h3><p>For time (30 min cap):<br>800m Run<br>50 Burpee Box Jump Overs (24/20)<br>40 Clean & Jerks (60/40 kg)<br>30 Ring Muscle-Ups<br>20 Snatches (70/48 kg)<br>10 Rope Climbs (15ft)<br>800m Run<br><br>Scale disponible en el box</p>`,

  lunes: `<h3>WARM-UP</h3><p>Banded 7s<br>-into-<br>8:00 AMRAP<br>30-sec Row Easy<br>10 Bird Dogs<br>10 Deadbugs<br>5 Inchworms<br>5 Dynamic Squat Stretch<br>5 Strict Press (empty bar)</p><h3>WEIGHTLIFTING - Shoulder Press</h3><p>STRENGTH<br>5 sets<br>6 Shoulder Press<br>-build across sets by feel-</p><h3>METCON - Jack Frost</h3><p>EMOM 16 min<br>Min 1 → 15/12 Cal Row<br>Min 2 → 15 Thrusters (75/55)<br>Min 3 → 15 C2B Pull-Ups<br>Min 4 → Rest</p>`,

  martes: `<h3>WARM-UP</h3><p>10:00 AMRAP<br>1:00 Cardio<br>10 Sit-Ups<br>10 Box Step-Ups<br>4x50ft Shuttle Runs</p><h3>METCON - Hermey the Elf</h3><p>25 Box Step-Ups (24/20)<br>50 Sit-Ups<br>25 Box Jumps (24/20)<br>50 V-Ups<br>25 Box Jump Overs (24/20)<br>50 Sit-Ups<br>25 Box Step-Ups (24/20)</p><h3>ACCESORIO</h3><p>Mini Pump - Lower Push<br>4 sets<br>30 sec Wall Sit<br>20 Front Foot Elevated Split Lunge (6")<br>10 each side @ RPE 7/10<br>-rest 1:00 between sets-</p>`,

  miercoles: `<h3>WARM-UP</h3><p>8:00 AMRAP<br>100m Run<br>10 Alternating V-Ups<br>3 Snatch Deadlifts (empty bar)<br>3 Hang Muscle Snatch (empty bar)<br>3 Snatch Push Press (empty bar)<br>3 Overhead Squats (empty bar)<br>1 Squat Snatch (empty bar)</p><h3>WEIGHTLIFTING - Snatch</h3><p>5 sets<br>2 Snatch @ 75-80%<br>-complete a set every 2:00-</p><h3>METCON - The Winter Warlock</h3><p>2:00 AMRAP<br>400m Run<br>12 Alternating DB Snatches (50/35)<br>Max Burpee over DB<br>-rest 1:00 between sets-<br>Continue until 75 Burpees<br>(KG conv: 22.5/15)</p>`,

  jueves: `<h3>WARM-UP</h3><p>10:00 AMRAP<br>30-sec Machine<br>30-sec Jump Rope<br>5 Worlds Greatest Stretch (each side)<br>5 Roll and Reach<br>5 Air Squats</p><h3>METCON - Bumble</h3><p>Every 2:00 (8 sets)<br>15 Air Squats<br>50 Double Unders<br>15 Air Squats</p><h3>ACCESORIO “Shock Method”</h3><p>3 sets<br>6 Bench Press (heavy)<br>12 Push-Ups<br>25 Bench DB Fly (light)<br>-rest 2:00 to 2:30 between sets-</p>`,

  viernes: `<h3>WARM-UP</h3><p>2:00 Machine<br>-into-<br>8:00 AMRAP<br>10 Banded Good Mornings<br>10 Banded Shoulder Press<br>10 Deadbugs<br>5 Deadlifts (empty bar, build across sets)</p><h3>GYMNASTICS - Handstand Walk</h3><p>HANDSTAND/GRIP (WEEK 6)<br>7-minute AMRAP<br>Ascending ladder 1-2-3-4-5-6...<br>Level 1: Box Pike to Hollow Plank<br>Level 2-3: Shoulder Taps / Walk</p><h3>METCON - Yukon Cornelius</h3><p>3 Rounds<br>7 Deadlifts (225/155)<br>14 Handstand Push-Ups<br>21 Toes to Bar</p>`,

  sabado: `<h3>WARM-UP</h3><p>3:00 Machine<br>-into-<br>9:00 AMRAP<br>4 Lunge Matrix<br>10-sec Handstand Hold<br>4 Wall Balls (light)<br>2x50ft Shuttle Run<br>4 Hang Muscle Cleans (empty bar)</p><h3>METCON - Snow Miser</h3><p>Every 1:00 (24:00)<br>Min 1 → 20 Wall Balls (20/14)<br>Min 2 → 15ft HSW (or 2 Wall Walks)<br>Min 3 → 8x50ft Shuttle Runs<br>Min 4 → 5 Hang Power Cleans (85/58)</p><h3>ACCESORIO</h3><p>3 sets<br>10 Weighted Pull-Ups @ RPE 7/10<br>12 DB Lateral Raises @ RPE 7/10<br>15 Banded Pull Aparts<br>-rest 90-60 seg-</p>`
};

const dias = ['domingo','lunes','martes','miercoles','jueves','viernes','sabado'];

// Función principal de carga
function cargarWOD() {
  const hoyIndex = new Date().getDay();
  const diaNombre = dias[hoyIndex];
  const contenedor = document.getElementById('wod-display');
  
  // Si el contenido cambió (ej: cambió el día), actualizar el HTML
  if (contenedor.dataset.dia !== diaNombre) {
    contenedor.innerHTML = wods[diaNombre] || "<h3>Descanso</h3><p>No hay WOD programado.</p>";
    contenedor.dataset.dia = diaNombre; // Guardamos el día actual para comparar luego
    console.log("WOD actualizado a: " + diaNombre);
    // Esperamos un momento a que renderice y ajustamos la escala
    setTimeout(ajustarEscala, 100); 
  }
}

// Lógica de escalado automático para TV
function ajustarEscala() {
  // Solo escalar si NO es un dispositivo móvil vertical (es decir, si estamos en modo TV rotado)
  if (window.matchMedia("(orientation: portrait)").matches) return;

  const content = document.querySelector('.content');
  const container = document.querySelector('.rotated-container');
  
  // Reseteamos escala para medir
  content.style.transform = 'scale(1)';
  
  // En modo rotado: 
  // La altura disponible es el ancho de la ventana (window.innerWidth)
  // Usamos un margen de seguridad (0.95)
  const alturaDisponible = window.innerWidth * 0.95; 
  const alturaContenido = content.scrollHeight;

  if (alturaContenido > alturaDisponible) {
    const escala = alturaDisponible / alturaContenido;
    content.style.transform = `scale(${escala})`;
  } else {
    // Si cabe de sobra, podemos dejarlo en 1 o escalar un poco hacia arriba si se ve muy chico
    // Por ahora lo dejamos en 1 para que sea nítido
    content.style.transform = 'scale(1)';
  }
}

// 1. Cargar al iniciar
cargarWOD();
window.addEventListener('resize', ajustarEscala);

// 2. CHECK AUTOMÁTICO DE CAMBIO DE DÍA
// Revisa cada 60 segundos si cambió el día para actualizar sin tocar el TV
setInterval(cargarWOD, 60000); 

</script>
</body>
</html>
