<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>WOD Vertical 50"</title>
  <style>
    /* --- RESET BÁSICO --- */
    * { margin:0; padding:0; box-sizing:border-box; }
    
    body, html { 
      width: 100vw;
      height: 100vh;
      background: #000; 
      color: #fff; 
      overflow: hidden; /* Cero scrollbars */
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
    }

    /* --- CONTENEDOR PRINCIPAL ROTADO --- */
    /* 
       La magia: Forzamos al contenedor a tener las dimensiones INVERTIDAS del navegador.
       Si el navegador es 1920x1080, el contenedor será 1080x1920.
    */
    .tv-container {
      position: absolute;
      top: 50%; 
      left: 50%;
      width: 100vh;  /* El ancho será la altura del navegador */
      height: 100vw; /* La altura será el ancho del navegador */
      
      /* ROTACIÓN: -90deg o 90deg dependiendo de hacia dónde giraste la TV.
         Prueba cambiar a 90deg si queda de cabeza. */
      transform: translate(-50%, -50%) rotate(-90deg);
      
      display: flex;
      flex-direction: column;
      justify-content: center; /* Se ajustará por JS */
      align-items: center;
      background: #000;
    }

    /* Contenedor interno que escala */
    .content-wrapper {
      width: 95%; /* Usamos casi todo el ancho vertical */
      display: flex;
      flex-direction: column;
      /* Esto distribuye el contenido uniformemente si sobra espacio */
      justify-content: space-evenly; 
      align-items: center;
      text-align: center;
      height: auto;
      transform-origin: center center;
    }

    /* --- TIPOGRAFÍA --- */
    /* Usamos unidades relativas para que escalen con el zoom */
    h3 {
      font-size: 3em; 
      color: #ff0000; /* Rojo Crossfit */
      margin: 0.5em 0 0.2em 0;
      text-transform: uppercase;
      border-bottom: 3px solid #333;
      display: inline-block;
      text-shadow: 0px 0px 10px rgba(255, 0, 0, 0.6);
    }

    p {
      font-size: 2.2em; 
      line-height: 1.3;
      color: #f0f0f0;
      white-space: pre-line;
      margin-bottom: 0.5em;
      font-weight: 400;
    }

    /* Negritas dentro de los párrafos si las hubiera */
    strong { color: #fff; font-weight: 700; }

    /* --- MÓVIL (DEBUG) --- */
    @media (orientation: portrait) {
      body, html { overflow: auto; height: auto; }
      .tv-container {
        position: static;
        width: 100%;
        height: auto;
        transform: none;
        padding: 20px;
        display: block;
      }
      .content-wrapper { width: 100%; transform: none !important; }
      h3 { font-size: 24px; }
      p { font-size: 16px; }
    }
  </style>
</head>
<body>

<div class="tv-container">
  <div class="content-wrapper" id="wod-display">
    <!-- El WOD se carga aquí -->
  </div>
</div>

<script>
// --- DATA WODS ---
const wods = {
  domingo: `<h3>DOMINGO - Rudolph’s Revenge</h3><p>For time (30 min cap):<br>800m Run<br>50 Burpee Box Jump Overs (24/20)<br>40 Clean & Jerks (60/40 kg)<br>30 Ring Muscle-Ups<br>20 Snatches (70/48 kg)<br>10 Rope Climbs (15ft)<br>800m Run</p>`,
  
  lunes: `<h3>WARM-UP</h3><p>8:00 AMRAP<br>30s Row Easy • 10 Bird Dogs<br>10 Deadbugs • 5 Inchworms</p><h3>STRENGTH - Press</h3><p>5 sets x 6 Reps<br>Shoulder Press (Heavy)</p><h3>METCON - Jack Frost</h3><p>EMOM 16 min<br>1: 15/12 Cal Row<br>2: 15 Thrusters (75/55)<br>3: 15 C2B Pull-Ups<br>4: Rest</p>`,
  
  martes: `<h3>WARM-UP</h3><p>10:00 AMRAP<br>1:00 Cardio • 10 Sit-Ups<br>10 Box Step-Ups</p><h3>METCON - Hermey</h3><p>For Time:<br>25 Box Step-Ups<br>50 Sit-Ups<br>25 Box Jumps<br>50 V-Ups<br>25 Box Jump Overs<br>50 Sit-Ups<br>25 Step-Ups</p><h3>ACCESORIO</h3><p>4 sets:<br>30s Wall Sit<br>20 Split Lunge</p>`,
  
  miercoles: `<h3>WARM-UP</h3><p>8:00 AMRAP<br>Run 100m • 10 Alt V-Ups<br>Barbell Warmup</p><h3>WEIGHTLIFTING</h3><p>Snatch<br>5 sets x 2 reps @ 75-80%<br>(Every 2:00)</p><h3>METCON - Winter Warlock</h3><p>2:00 ON / 1:00 OFF<br>400m Run<br>12 Alt DB Snatch<br>Max Burpees over DB<br>*(Target: 75 Burpees)*</p>`,
  
  viernes: `<h3>WARM-UP</h3><p>10:00 AMRAP<br>30s Machine <br> 30s Jump Rope<br>Dynamic Stretching</p><h3>METCON <br> Bumble</h3><p>Every 2:00 (8 sets)<br>15 Air Squats<br>50 Double Unders<br>15 Air Squats</p><h3>ACCESORIO</h3><p>3 sets "Shock Method"<br>6 Bench Press (Heavy)<br>12 Push-Ups<br>25 DB Fly (Light)<br>Rest 2:00</p>`,
  
  jueves: `<section class="mb4">
          <h3 class="fw5 black mt0">Warmup</h3>
          <p class="f3"></p><div>&nbsp;2:00 Machine&nbsp;<br>-into<br>8:00 AMRAP&nbsp;<br>10 Banded Good Mornings&nbsp;<br>10 Banded Shoulder Press&nbsp;<br>10 Deadbugs&nbsp;<br>5 Deadlifts (empty bar, build across sets)&nbsp;<br>5 Kip Swings&nbsp;<br>5 Hanging Knee Raises&nbsp;</div><p></p>
        </section>
        <section class="mb4">
          <h3 class="fw5 black mt0">Gymnastics (Handstand Walk)</h3>
          <p class="f3"></p><div><strong>HANDSTAND/GRIP (WEEK 6)</strong> <br>7-minute AMRAP <br>Ascending ladder of reps 1-2-3-4- 5-6-etc… <br><strong>Level 1: </strong>Box Pike to Hollow Plank Shoulder Taps [right/left =1 rep] After EVERY round, complete 100- foot farmers carry [35s/25s] (KG conv: 15/10) <br><strong>Level 2:</strong> Walk Walk Plank Shoulder Taps [right/left =1 rep] After EVERY round, complete 100- foot farmers carry [50s/35s] (KG conv: 22.5/15) <br><strong>Level 3:</strong> Walk Walk + Shoulder Taps [right/ left =1 rep] After EVERY round, complete 100- foot farmers carry [70s/50s] (KG conv: 32.5/22.5)&nbsp;</div><p></p>
        </section>
        <section class="mb4">
          <h3 class="fw5 black mt0">Custom Metcon</h3>
          <p class="f3"></p><div><strong>WORKOUT - Yukon Cornelius </strong><br>3 Rounds&nbsp;<br>7 Deadlifts (125/85)&nbsp;<br>14 Handstand Push Ups&nbsp;<br>21 Toes to Bar&nbsp;</div><p></p>
        </section>`,
  
  sabado: `<h3>WARM-UP</h3><p>9:00 AMRAP<br>Lunge Matrix • HS Hold<br>Wall Balls • Shuttle Run</p><h3>METCON - Snow Miser</h3><p>EMOM 24 min<br>1: 20 Wall Balls<br>2: 15ft HS Walk<br>3: 8x50ft Shuttle Run<br>4: 5 Hang Power Cleans (Heavy)</p><h3>ACCESORIO</h3><p>3 sets Bodybuilding<br>Pull-Ups • Lateral Raises</p>`
};

const dias = ['domingo','lunes','martes','miercoles','jueves','viernes','sabado'];

function cargarWOD() {
  const hoyIndex = new Date().getDay();
  const diaNombre = dias[hoyIndex];
  const contenedor = document.getElementById('wod-display');
  
  // Forzar actualización para pruebas (puedes quitar esto en producción)
  // const diaNombre = 'jueves'; 

  if (contenedor.dataset.dia !== diaNombre) {
    contenedor.innerHTML = wods[diaNombre] || "<h3>DESCANSO</h3><p>Box Cerrado / Open Box</p>";
    contenedor.dataset.dia = diaNombre;
    
    // Esperamos un poco para que el DOM renderice antes de calcular matemáticas
    setTimeout(ajustarEscalaPerfecta, 50); 
  }
}

function ajustarEscalaPerfecta() {
  if (window.matchMedia("(orientation: portrait)").matches) return; // No hacer nada en celular vertical

  const wrapper = document.getElementById('wod-display');
  const container = document.querySelector('.tv-container');
  
  // 1. Reseteamos para medir tamaño natural
  wrapper.style.transform = 'scale(1)';
  wrapper.style.height = 'auto'; // Dejar que crezca naturalmente
  
  // 2. Obtenemos dimensiones
  // En modo rotado: el ancho disponible es la altura de la ventana
  const alturaDisponible = window.innerWidth; // Es width porque está rotado
  const margenSeguridad = 40; // Pixeles de margen
  
  const alturaContenido = wrapper.scrollHeight;
  
  // 3. Calculamos el Factor de Escala
  // Queremos llenar la pantalla, pero sin pasarnos.
  let escala = (alturaDisponible - margenSeguridad) / alturaContenido;
  
  // Limites de seguridad: No hacer la letra microscópica ni gigantesca absurda
  if (escala > 2.5) escala = 2.5; 
  if (escala < 0.5) escala = 0.5;

  console.log(`Altura Disp: ${alturaDisponible}, Altura Cont: ${alturaContenido}, Escala: ${escala}`);

  // 4. Aplicar escala
  wrapper.style.transform = `scale(${escala})`;
  
  // 5. Centrado Vertical Fino
  // Si escalamos hacia abajo, puede quedar espacio visible. 
  // Expandimos el contenedor interno para que el flexbox 'space-evenly' funcione visualmente si es necesario
  if (escala > 1) {
     // Si estamos agrandando, genial.
  } else {
     // Si estamos achicando, nos aseguramos que esté centrado
  }
}

// Inicializar
window.addEventListener('load', cargarWOD);
window.addEventListener('resize', () => setTimeout(ajustarEscalaPerfecta, 100));
setInterval(cargarWOD, 60000); 

</script>
</body>
</html>
